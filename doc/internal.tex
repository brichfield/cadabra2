

Storage.hh


\section{Property attributes}

Properties can have attributes, which in C++ are passed as a map of
labels to expressions. In Python they can be set using the standard
named parameter logic,
\begin{verbatim}
A_{m n}::Indices(name='vector').
\end{verbatim}


\section{Library interface}

A block is a combination of an input cell together with all output and
other data that needs to be kept track of (?). 

class Block {
   public: 
      std::string input;
      
};

execute_block(Block block, callback);

\section{Interrupting computations}

- assuming c++ bit written such that code can always be interrupted;
  this is not true for xperm! 


\section{Message format}

A typical
\begin{verbatim}
{ 'header':  
      { 'msg_id':    uuid,
        'username':  string,
        'session':   uuid,
        'msg_type':  string
      },
  'parent_header':
      { 'msg_id':    uuid,
        'username':  string,
        'session':   uuid,
        'msg_type':  string
      },
  'content': 
      { 'code':      string,
        'silent':    bool
        others
      }
}
\end{verbatim}

\section{Communication between blocks}

IPython allows you to generate javascript in a block which is then
executed. That goes too far, and at the same time is too unstructured.
We have the concept of data (math) and programming (code)
languages. There should be an output channel for each of them. Math
expressions should most likely go by default into the global
namespace. Code expressions should be local. 


\section{IPython notes}

\url{http://ipython.org/ipython-doc/dev/development/messaging.html}

- we do not do stdin sockets, or in other words \verb|raw_input| sockets.
- the shell socket is our standard socket. 
- iopub should have been merged into shell, as messages have a type
  anyway. 

In IPython the difference between shell and iopub is that the former
is single kernel to single client, while the latter is single kernel
to multiple clients. 

IPython has the following message types
\begin{description}
\item[execute\_request] *
\item[execute\_interrupt] *
\item[execute\_reply] 
\item[object\_info\_request]
\item[object\_info\_reply]
\item[complete\_request]
\item[complete\_reply]
\item[history\_request]
\item[history\_reply]
\item[connect\_request]
\item[connect\_reply]
\item[kernel\_info\_request]
\item[kernel\_info\_reply]
\item[shutdown\_request]
\item[shutdown\_reply]
\end{description}


