
\section{Properties}

\subsection{Arguments and validation}

Properties can have arguments. These are not parsed by Python, but
rather by the C++ side. There is a number of reasons for doing things
this way. The most important of them is that this makes it a lot
easier for Cadabra to provide useful feedback on parameters which are
not valid.

Parsing is done by implementing the virtual function
`\verb|parse(const Properties&, keyval_t&)|'. The argument is a
container class which represents the arguments passed to the property
as key/value pairs (the \verb|keyval_t| type is defined in
\verb|Props.hh|).

Properties will be asked to check that they can be associated to a
given pattern through the virtual
`\verb|validate(const Properties&, const exptree&)|' function. The
default implementation returns true for any pattern.

FIXME: the above two need to be merged, because parse may need access
to the actual pattern tree, and once we are there, we may as well
do checking.
HOWEVER: in TableauSymmetry.cc:
			 // FIXME: we get the wrong pattern in case of a list! We should have
			 // been fed each individual item in the list, not the list itself.


This suggests that we should be calling once for every pattern, but 
that is wasteful in case we are just parsing arguments. Can we really
avoid calling parse for every pattern?

{A_{m n}, A_{m n p}, A_{m n p q}}::TableauSymmetry(shape={2,1}, indices={0,1,2}).

leads to a problem, because the property needs to setup its internal
structures but also verify that these can match all objects in the
same way. 


Make all identical properties point to the same property object, so
that normal and list properties become pretty much identical.
